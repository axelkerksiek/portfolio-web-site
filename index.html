<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/images/logos/axel_logo_green_32x32_optimized.png"
    />
    <title>Axel's Portfolio</title>
    <script>
      // Apply saved color palette theme
      const savedTheme = localStorage.getItem('theme-palette') || 'green'
      if (savedTheme !== 'green') {
        const themes = {
          green: 'oklch(0.696 0.17 162.48)',
          orange: 'oklch(0.7 0.18 45)',
          blue: 'oklch(0.65 0.15 210)',
          purple: 'oklch(0.67 0.2 290)',
          red: 'oklch(0.66 0.19 10)',
        }
        if (themes[savedTheme]) {
          document.documentElement.style.setProperty('--color-primary', themes[savedTheme])
        }
      }

      // Apply dark/light theme
      const applyStoredTheme = () => {
        document.documentElement.classList.toggle(
          'dark',
          localStorage.theme === 'dark' ||
            (!('theme' in localStorage) &&
              window.matchMedia('(prefers-color-scheme: dark)').matches)
        )
      }

      applyStoredTheme()

      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
        if (!('theme' in localStorage)) applyStoredTheme()
      })
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
